$font-size-base: 16px !default;

$selecty-height: 36px !default;
$selecty-triangle-bg: $disabled-color !default;
$selecty-triangle-size: 4px !default;
$selecty-triangle-x: 10px !default;

$dropdown-padding: 10px !default;
$dropdown-item-padding: 0 10px !default;
$dropdown-item-height: $selecty-height !default;

@mixin text-ellipsis() {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

select {
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;

	&.active ~ label {
		color: $secondary-color !important;
	}
}

.selecty-select {
	width: 100%;
	display: block;
	border: none;
	background: transparent;
	height: $selecty-height;
	line-height: $selecty-height;
	text-align: left;
	font-size: $font-size-base;
	color: $default-color;
	border-radius: 0;
	position: relative;
	outline: 0 none;
	border: 1px solid $default-color;
	box-sizing: border-box;
	padding: 0 10px;

	&[disabled] {
		cursor: default;
		color: $disabled-color;
		border: 1px solid $default-color;
	}
}

.selecty-arrow {
	position: absolute;
	width: 0;
	height: 0;
	border-left: $selecty-triangle-size solid transparent;
	border-right: $selecty-triangle-size solid transparent;
	border-top: $selecty-triangle-size solid $selecty-triangle-bg;
	margin-right: $selecty-triangle-x;
}

.selecty {
	margin: 1rem 0;
	margin-top: 1.4rem;
	width: 100%;
	position: relative;
	font-size: $font-size-base;
	color: $default-color;

	&.disabled .selecty-selected {
		border: 1px solid $default-color;
		cursor: default;
		color: $disabled-color;
	}

	.selecty-selected {
		display: block;
		border: none;
		width: 100%;
		cursor: pointer;
		background: none;
		outline: none !important;
		height: $selecty-height;
		line-height: $selecty-height;
		text-align: left;
		font-size: $font-size-base;
		color: $default-color;
		text-indent: 10px;
		border: 1px solid $default-color;
		box-sizing: border-box;

		@include text-ellipsis;

		&:after {
			content: "";
			display: inline-block;
			position: absolute;
			top: 50%;
			width: 0;
			height: 0;
			border-left: $selecty-triangle-size solid transparent;
			border-right: $selecty-triangle-size solid transparent;
			border-top: $selecty-triangle-size dashed $selecty-triangle-bg;
			margin-top: -$selecty-triangle-size/2;
			right: $selecty-triangle-x;
		}

		&:hover, &:active, &:focus {
			text-decoration: none;
			background:none;
		}
	}

	.selecty-options {
		position: absolute;
		top: 0;
		left: 0;
		background-color: color("white", "500");
		margin: 0;
		max-height: 650px;
		width: 100%;
		overflow-y: auto;
		z-index: 9999;
		border-radius: 0;
		padding: 0;
		transform: scaleY(0);
		transition: transform 0.45s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.45s cubic-bezier(0.23, 1, 0.32, 1);
		transform-origin: top left;
		border: 1px solid $secondary-color;
		visibility: hidden;

		&.active {
			visibility: visible;
			transform: scaleY(1);
		}

		li {
			cursor: pointer;
			text-align: left;
			padding: $dropdown-item-padding;
			height: $dropdown-item-height;
			line-height: $dropdown-item-height;

			&:hover, &.active {
				background-color: darken(color("white", "500"), 4%);
			}

			& > span > label {
				top: 1px;
				left: 3px;
				height: 18px;
			}

			&.selected {
				position: relative;
				color: $secondary-color;

				&.disabled {
					color: $disabled-color;
				}

				&:not(.disabled):after {
					content: "";
					position: absolute;
					top: calc(50% - 8px);
					right: 15px;
					width: 6px;
					height: 12px;
					transform: rotate(45deg);
					border-width: 2px;
					border-style: solid;
					border-color: $secondary-color;
					border-top: 0;
					border-left: 0;
				}
			}

			&.disabled {
				color: $disabled-color;
				cursor: default;
				&:hover {background: none;}
			}

			&.optgroup {
				cursor: default;
				color: $disabled-color;
				height: $selecty-height;
				line-height: $selecty-height;
				&:hover {background: none;}
			}

			&.optgroup-option {
				padding-left: 20px;
			}
		}

	}
}